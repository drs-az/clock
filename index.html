<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Algebra Time</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
  :root {
    --bg1: #87ceeb;   /* day fallback */
    --bg2: #fefcea;
  }

  body {
    margin: 0;
    font-family: system-ui, sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: shiftSky 30s linear infinite;
    transition: background 1s linear;
    background: linear-gradient(to bottom, var(--bg1), var(--bg2));
  }

  .box {
    background: rgba(255,255,255,0.2);
    padding: 2.5rem 3rem;
    border-radius: 1.5rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    backdrop-filter: blur(10px);
    text-align: center;
    max-width: 700px;
    width: 90%;
  }

  h1 {
    margin: 0 0 1rem;
    font-size: 2rem;
    letter-spacing: 0.04em;
  }

  .equation {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 1.3rem 0;
    line-height: 2.3rem;
  }

  .plain {
    margin-top: 1.5rem;
    font-size: 1rem;
    color: #333;
  }

  @keyframes shiftSky {
    from { filter: brightness(1); }
    to   { filter: brightness(1); }
  }
</style>
</head>
<body>

<div class="box">
  <h1>Algebra Time</h1>

  <div id="hoursEq" class="equation"></div>
  <div id="minutesEq" class="equation"></div>
  <div id="ampm" class="equation"></div>

  <div class="plain" id="plain"></div>
</div>

<script>
/* ----------------------
   TIME → SKY BACKGROUND
   ---------------------- */
function updateSky() {
  const now = new Date();
  const hour = now.getHours();

  // Colors for different times:
  // Dawn → Morning → Noon → Sunset → Night
  let top, bottom;

  if (hour >= 5 && hour < 8) {
    // Dawn
    top = "#ff9a9e";
    bottom = "#fad0c4";
  } else if (hour >= 8 && hour < 12) {
    // Morning
    top = "#87ceeb";
    bottom = "#fefcea";
  } else if (hour >= 12 && hour < 17) {
    // Afternoon
    top = "#78c1f3";
    bottom = "#e0f7fa";
  } else if (hour >= 17 && hour < 20) {
    // Sunset
    top = "#f6d365";
    bottom = "#fda085";
  } else {
    // Night
    top = "#0f2027";
    bottom = "#203a43";
  }

  document.documentElement.style.setProperty("--bg1", top);
  document.documentElement.style.setProperty("--bg2", bottom);
}

/* ----------------------
   TIME CONVERSION
   ---------------------- */
function to12Hour(h) {
  const period = h >= 12 ? "PM" : "AM";
  let hour = h % 12;
  if (hour === 0) hour = 12;
  return { hour, period };
}

function randInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

/* ----------------------
   EQUATION TYPES
   ---------------------- */

// LINEAR: (a·x + b) / c = value
function linearEq(value, v) {
  const a = randInt(1, 9);
  const c = randInt(1, 9);
  const x = randInt(1, 9);
  const b = value * c - a * x;  
  return `(${a}${v} + ${b}) / ${c} = ?`;
}

// FRACTIONAL: a + (b / x) = value
function fractionalEq(value, v) {
  const x = randInt(2, 9);
  const a = randInt(0, value);
  const b = (value - a) * x;  
  return `${a} + (${b} / ${x}) = ?`;
}

// SIMPLE QUADRATIC: (x² - k) / m = value
function quadraticEq(value, v) {
  const m = randInt(1, 5);
  const x = randInt(2, 9);
  const k = x*x - value*m;
  return `(${v}² - ${k}) / ${m} = ?   (where ${v} = ${x})`;
}

const equationTypes = [linearEq, fractionalEq, quadraticEq];

/* ----------------------
   MAIN CLOCK LOGIC
   ---------------------- */
function updateClock() {
  const now = new Date();
  const hours24 = now.getHours();
  const minutes = now.getMinutes();
  
  const { hour, period } = to12Hour(hours24);

  // Randomly pick equation type for hours/minutes
  const hourEq = equationTypes[randInt(0, equationTypes.length - 1)](hour, "x");
  const minEq  = equationTypes[randInt(0, equationTypes.length - 1)](minutes, "y");

  document.getElementById("hoursEq").innerHTML =
    `Hour → <strong>${hourEq}</strong>`;
  document.getElementById("minutesEq").innerHTML =
    `Minutes → <strong>${minEq}</strong>`;
  document.getElementById("ampm").innerHTML = `Period → ${period}`;

  document.getElementById("plain").innerHTML =
    `Actual Time: ${String(hour).padStart(2,"0")}:${String(minutes).padStart(2,"0")} ${period}`;

  updateSky();
}

updateClock();
setInterval(updateClock, 1000);
</script>

</body>
</html>
